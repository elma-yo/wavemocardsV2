<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <!-- 手機版網頁 CSS Reset 螢幕解析度 Reset -->
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
        <title>浪潮情緒卡｜註冊</title>
        <!-- Bootstrap icon -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
        <!-- Bootstrap css -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <link rel="stylesheet" href="./stylesheets/all.css">
        <style>
            .clickMeToLogin {
                position: relative;
                text-align: center;
                font-weight: bold;
                color: #85C5D6;
            }
            .clickMeToLogin::before {
                width: 24%;
                height: 2px;
                position: absolute;
                top: 50%;
                left: 0;
                content: "";
                background-color: #B1DBE5;
            }
            .clickMeToLogin::after {
                position: absolute;
                content: "";
                width: 24%;
                height: 2px;
                top: 50%;
                right: 0;
                background-color: #B1DBE5;
            }
            .clickMeToLogin:hover {
                color: #3C9DAE;
            }
        </style>
    </head>
    <body>
        <header class="header sticky-top" id="headerNotLogin">
            <div class="container py-16 d-flex justify-content-between align-items-center">
                <h1 id="home">
                    <a href="index.html" data-bs-toggle="tooltip" data-bs-placement="bottom" id="aHeader" title="回到首頁">浪潮情緒卡</a>
                </h1>
                <ul class="d-flex justify-content-end justify-content-md-between align-items-center mb-0 ps-0">
                    <li class="d-none d-md-block " data-bs-toggle="tooltip" data-bs-placement="bottom" title="認識情緒與情緒卡">
                        <a href="aboutEmotions.html" class="px-4 py-8 link-gray-550" id="aHeader">認識情緒</a>
                    </li>
                    <li class="d-none d-md-block ms-20 text-nowrap" data-bs-toggle="tooltip" data-bs-placement="bottom" title="登入">
                        <a href="login.html" class="btn btn-main c-btn" id="aHeader">登入</a>
                    </li>
                    <li class="d-none d-md-block ms-16" data-bs-toggle="tooltip" data-bs-placement="bottom" title="註冊">
                        <a href="signUp.html" class="btn btn-pink c-btn" id="aHeader">註冊</a>
                    </li>
                    <li class="d-md-none">
                        <a href="login.html" class="link-main" id="aHeader">登入</a>
                    </li>
                    <li class="d-md-none ms-20 position-relative">
                        <button class="px-8 py-4 btn btn-outline-main rounded-1" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                            <i class="bi bi-list"></i>
                        </button>
                        <div class="collapse" style="position: absolute; right: 0; top: 40px;" id="collapseExample">
                            <div class="p-0 card card-body rounded-2 border border-main-tint01" style="width: 120px;">
                                <ul>
                                    <!-- <li>
                                        <a class="d-block px-16 py-12 link-gray-600 btn-hover-main-tint02 rounded-2" href="login.html">登入</a>
                                    </li> -->
                                    <li>
                                        <a class="d-block px-16 py-12 link-gray-600 btn-hover-main-tint02 rounded-2" href="signUp.html">註冊</a>
                                    </li>
                                    <li>
                                        <a class="d-block px-16 py-12 link-gray-600 btn-hover-main-tint02 rounded-2" href="aboutEmotions.html">認識情緒</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </header>

        <main class="d-flex justify-content-center align-items-stretch">
            <div class="d-none d-lg-block w-50">
                <img src="./images/login-bg.svg" style="display: block; min-width: 100%; min-height: 100%; object-fit: cover; " alt="login page background">
            </div>

            <div class="box-50 py-32 px-24 d-flex flex-column align-items-center">
                <div class="form-signUp-login" style="width: 80%;">
                    <div class="mb-8 text-pink d-flex flex-column align-items-center" style="font-size: 88px;">
                        <i class="bi bi-person-circle"></i>
                    </div>
                    <h2 class="mb-32 fs-3 text-pink">註冊</h2>
                    <!-- <a class="w-100 mb-32 py-8 btn btn-outline-pink c-btn-outline-pink d-flex justify-content-center align-items-center fs-6" href="#">
                        連結 Google 帳號
                        <i class="bi bi-google ms-8"></i>
                    </a>
                    <div class="or mb-32">或</div> -->

                    <!-- process bar -->
                    <div class="d-flex mb-24 justify-content-center">
                        <div class="progressBar mb-8 px-12" style="width: 90%;">
                            <div class="position-relative m-4">
                                <div class="progress bg-gray-300" style="height: 2px;">
                                    <div class="progress-bar bg-main-tint01" role="progressbar" style="width: 0%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100" id="progressBar"></div>
                                </div>
                                <div class="p-num position-absolute top-0 start-0 translate-middle btn btn-sm btn-outline-main-tint01 border-2 rounded-pill d-flex justify-content-center align-items-center" id="progressBar_1">
                                    <span class="d-block">1</span>
                                </div>
                                <div class="p-num position-absolute top-0 start-50 translate-middle btn btn-sm btn-outline-gray-450 rounded-pill d-flex justify-content-center align-items-center" id="progressBar_2">
                                    <span class="d-block">2</span>
                                </div>
                                <div class="p-num position-absolute top-0 start-100 translate-middle btn btn-sm btn-outline-gray-450 rounded-pill d-flex justify-content-center align-items-center" id="progressBar_3">
                                    <span class="d-block">3</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-16" id="areaEmail">
                        <!-- email -->
                        <label for="email" class="form-label  d-flex justify-content-between">
                            E-mail
                            <span class="text-pink-tint02 fs-9">*必填</span>
                        </label>
                        <div class="d-flex flex-column flex-sm-row">
                            <input type="email" class="form-control rounded-pill mb-8 mb-sm-0 px-20" id="email" placeholder="wavemocards@mail.com" required>
                            <div class="d-flex justify-content-between">
                                <div class="d-sm-none mt-4 ms-12 fs-9" id="emailCmt"></div>
                                <!-- <button type="button" class="ms-8 px-12 btn btn-outline-main c-btn c-btn-outline-main fs-8 text-nowrap" id="btnVerify">驗證</button> -->
                            </div>
                        </div>
                        <!-- email驗證結果 -->
                        <div class="d-none d-sm-block mt-4 ms-24 fs-9" id="emailCmt"></div>
                    </div>
                    <div class="mb-32" id="areaAccount">
                        <label for="account" class="form-label  d-flex justify-content-between">
                            帳號
                            <span class="text-pink-tint02 fs-9">*必填</span>
                        </label>
                        <div class="d-flex flex-column flex-sm-row">
                            <input type="text" class="form-control rounded-pill px-20" id="account" placeholder="wavemocards" required>
                            <!-- <button type="button" class="ms-8 px-12 btn btn-outline-main c-btn c-btn-outline-main fs-8 text-nowrap" id="btnVerifyAccount">驗證</button> -->
                        </div>
                        <div class="mt-4 ms-12 ms-sm-24 fs-9" id="accountCmt"></div>
                    </div>
                    <button type="button" class="w-100 px-12 btn btn-pink c-btn fs-7 text-nowrap" id="btnVerify">驗證</button>
                    <button type="button" class="d-none w-100 px-12 btn btn-pink c-btn fs-7 text-nowrap" id="btnNextToPwd">下一步</button>

                    <!-- passWord -->
                    <div class="mb-16" id="areaPwd">
                        <label for="pwd" class="form-label d-flex justify-content-between">
                            密碼
                            <span class="text-pink-tint02 fs-9">*必填</span>
                        </label>
                        <input type="password" class="form-control rounded-pill px-20" id="pwd" required aria-describedby="passwordHelp" placeholder="********" required>
                        <!-- 密碼驗證 msg -->
                        <div class="mt-4 ms-24 fs-9" id="pwdCmt"></div>
                        <button class="ms-24 p-0 fs-9 link-gray-550 bg-white border-0" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePwdRules" aria-expanded="false" aria-controls="collapsePwdRules">
                            點我看 設定密碼規則
                        </button>
                        <!-- collapse 卡片內容 -->
                        <div class="collapse ms-12 ms-sm-24" id="collapsePwdRules">
                            <div class="card card-body py-8 bg-gray-200 border-0 rounded-2">
                                <ol class="fs-9">
                                    <li class="ms-16">包含<span class="fw-bold"> 8 ~ 16 </span>個字符。</li>
                                    <li class="ms-16">至少包含<span class="fw-bold"> 1 個英文字母</span>(A-Z或a-z)。</li>
                                    <!-- <li class="ms-16">至少包含<span class="fw-bold"> 1 個大寫 </span>字母（A-Z）。</li>
                                    <li class="ms-16">至少包含<span class="fw-bold"> 1 個小寫 </span>字母（a-z）。</li> -->
                                    <li class="ms-16">至少包含<span class="fw-bold"> 1 個數字 </span>（0-9）。</li>
                                    <!-- <li class="ms-16">至少包含<span class="fw-bold"> 1 個特殊字符 </span>（例如！、@、#、$、%等）。</li> -->
                                </ol>
                            </div>
                        </div>
                    </div>
                    <!-- passWord 2 -->
                    <div class="mb-32" id="areaPwd2">
                        <label for="pwd2" class="form-label  d-flex justify-content-between">
                            確認密碼
                            <span class="text-pink-tint02 fs-9">*必填</span>
                        </label>
                        <input type="password" class="form-control rounded-pill px-20" id="pwd2" placeholder="請再次輸入您所欲設定的密碼" required>
                        <!-- 雙重密碼驗證結果 -->
                        <div class="mt-4 ms-12 ms-sm-24 fs-9" id="pwd2Cmt"></div>
                    </div>
                    <div class="d-flex justify-content-end align-items-center">
                        <button type="button" class="d-none px-16 btn c-btn-outline-pink-tint01 fs-7 fw-normal border-2 py-4 text-nowrap" id="btnBackToFirst">上一步</button>
                        <button type="button" class="d-none w-100 ms-12 px-12 btn btn-gray-550 c-btn fs-7 text-nowrap text-white cursor-disable" id="btnNextToLastDisabled" disabled>請輸入上方欄位資料</button>
                        <button type="button" class="d-none w-100 ms-12 px-12 btn btn-pink c-btn fs-7 text-nowrap" id="btnNextToLast">下一步</button>
                    </div>
                    
                    <!-- lastName & firstName -->
                    <div class="mb-20 row" id="areaName">
                        <div class="col-6">
                            <label for="lastName" class="form-label  d-flex justify-content-between">
                                姓
                                <span class="text-pink-tint02 fs-9">*必填</span>
                            </label>
                            <input type="text" class="form-control rounded-pill px-20" id="lastName" placeholder="陳" required>
                            <div class="mt-4 ms-12 ms-sm-24 fs-9" id="lastNameCmt"></div>
                        </div>
                        <div class="col-6">
                            <label for="firstName" class="form-label d-flex justify-content-between">
                                名
                                <span class="text-pink-tint02 fs-9">*必填</span>
                            </label>
                            <input type="text" class="form-control rounded-pill px-20" id="firstName" placeholder="浪潮" required>
                            <div class="mt-4 ms-12 ms-sm-24 fs-9" id="firstNameCmt"></div>
                        </div>
                    </div>

                    <div class="mb-24 row" id="areaBirthAndTitle">
                        <div class="col-6">
                            <label for="birthday" class="form-label d-flex justify-content-between">
                                生日
                                <!-- <span class="text-pink-tint02 fs-9">*必填</span> -->
                            </label>
                            <input type="date" class="form-control rounded-pill px-20" id="birthday">
                            <div class="mt-4 ms-12 ms-sm-24 fs-9" id="birthdayCmt"></div>
                        </div>
                        <div class="col-6">
                            <label for="title" class="form-label d-flex justify-content-between">
                                身份
                            </label>
                            <select class="form-select px-20 rounded-pill" aria-label="Default select example" id="title">
                                <option value="Student">學生</option>
                                <option value="Teacher">教師</option>
                                <!-- <option value="教師">輔導教師</option>
                                <option value="諮商師">諮商師</option>
                                <option value="醫生">醫生</option> -->
                                <option value="Null">其他</option>
                            </select>
                        </div>
                    </div>
                    <div class="mb-32" id="areaAgree">
                        <input type="checkbox" id="agree" required>
                                <label class="ms-4" for="agree">
                                    我已經詳讀並同意
                                    <button type="button" class="bg-white border-0 link-main fs-8 fw-normal" data-bs-toggle="modal" data-bs-target="#staticBackdrop">隱私權保護政策</button>。
                                </label>
                        <!-- error msg -->
                        <div class="mt-4 ms-12 ms-sm-24 fs-9" id="agreeCmt"></div>
                    </div>
                    <div class="d-flex justify-content-end align-items-center">
                        <button type="button" class="d-none px-16 btn c-btn-outline-pink-tint01 fs-7 fw-normal border-2 py-4 text-nowrap" id="btnBackToPwd">上一步</button>
                        <button class="w-100 ms-12 py-8 btn btn-pink c-btn" id="btnSubmit" type="button">註冊</button>
                    </div>
                    <a class=" mt-48 mb-16 d-block clickMeToLogin" href="login.html">已經有帳號了嗎？ 點我登入</a>
                </div>
            </div>
        </main>

        <!-- Scrollable modal 隱私權保護政策 -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content d-flex flex-column align-items-center">
                <div class="modal-header">
                <h5 class="modal-title fs-6 fw-bold text-main" id="staticBackdropLabel">隱私權保護政策</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body px-24">
                    <p>
                        歡迎來到「浪潮情緒卡網站」（以下簡稱本網站）。
                    </p>
                    <br>
                    <p>
                        我們重視您的隱私和數據安全。本隱私政策概述了我們如何處理您的個人數據以及您對其使用擁有的權利。若您註冊使用我們的網站即表示您同意本政策中描述的做法。
                    </p>
                    <br>
                    <p>
                        為了讓您能夠安心的使用本網站的各項服務與資訊，特此向您說明本網站的隱私權保護政策，以保障您的權益，請您詳閱下列內容：
                    </p>
                    <br>
                    <ol class="mx-16" style="list-style-type: cjk-ideographic;">
                        <li class="mx-16">
                            <span class="fw-bold">隱私權保護政策的適用範圍</span>
                            <p>隱私權保護政策內容，包括本網站如何處理在您使用網站服務時收集到的個人識別資料。隱私權保護政策不適用於本網站以外的相關連結網站，也不適用於非本網站所委託或參與管理的人員。</p>
                        </li>
                        <br>
                        <li class="mx-16">
                            <span class="fw-bold">個人資料的蒐集、處理及利用方式</span>
                            <ul class="ms-16" style="list-style-type: disc;">
                                <li>
                                    當您造訪本網站或使用本網站所提供之功能服務時，我們將視該服務功能性質，請您提供必要的個人資料，並在該特定目的範圍內處理及利用您的個人資料；非經您書面同意，本網站不會將個人資料用於其他用途。
                                </li>
                                <li>
                                    本網站在您使用服務信箱、問卷調查等互動性功能時，會保留您所提供的姓名、電子郵件地址、聯絡方式及使用時間等。
                                </li>
                                <li>
                                    於一般瀏覽時，伺服器會自行記錄相關行徑，包括您使用連線設備的 IP 位址、使用時間、使用的瀏覽器、瀏覽及點選資料記錄等，做為我們增進網站服務的參考依據，此記錄為內部應用，決不對外公佈。
                                </li>
                                <li>
                                    為提供精確的服務，我們會將收集的問卷調查內容進行統計與分析，分析結果之統計數據或說明文字呈現，除供內部研究外，我們會視需要公佈統計數據及說明文字，但不涉及特定個人之資料。
                                </li>
                                <li>
                                    您可以隨時向我們提出請求，以更正或刪除本網站所蒐集您錯誤或不完整的個人資料。
                                </li>
                            </ul>
                        </li>
                        <br>
                        <li class="mx-16">
                            <span class="fw-bold">資料之保護</span>
                            <ul class="ms-16" style="list-style-type: disc;">
                                <li>
                                    本網站主機均設有防火牆、防毒系統等相關的各項資訊安全設備及必要的安全防護措施，加以保護網站及您的個人資料採用嚴格的保護措施，只由經過授權的人員才能接觸您的個人資料，相關處理人員皆簽有保密合約，如有違反保密義務者，將會受到相關的法律處分。
                                </li>
                                <li>
                                    如因業務需要有必要委託其他單位提供服務時，本網站亦會嚴格要求其遵守保密義務，並且採取必要檢查程序以確定其將確實遵守。
                                </li>
                            </ul>
                        </li>
                        <br>
                        <li class="mx-16">
                            <span class="fw-bold">數據安全</span>
                            <p>
                                本網站對使用者密碼進行加密，以確保使用者密碼安全。
                            </p>
                        </li>
                        <br>
                        <li class="mx-16">
                            <span class="fw-bold">網站對外的相關連結</span>
                            <p>本網站的網頁提供其他網站的網路連結，您也可經由本網站所提供的連結，點選進入其他網站。但該連結網站不適用本網站的隱私權保護政策，您必須參考該連結網站中的隱私權保護政</p>
                        </li>
                        <br>
                        <li class="mx-16">
                            <span class="fw-bold">
                                與第三人共用個人資料之政策
                            </span>
                            <p>
                                本網站絕不會提供、交換、出租或出售任何您的個人資料給其他個人、團體、私人企業或公務機關，但有法律依據或合約義務者，不在此限。
                                前項但書之情形包括不限於：
                                <ul class="ms-16" style="list-style-type: disc;">
                                    <li>
                                        經由您書面同意。
                                    </li>
                                    <li>
                                        法律明文規定。
                                    </li>
                                    <li>
                                        為免除您生命、身體、自由或財產上之危險。
                                    </li>
                                    <li>
                                        與公務機關或學術研究機構合作，基於公共利益為統計或學術研究而有必要，且資料經過提供者處理或蒐集者依其揭露方式無從識別特定之當事人。
                                    </li>
                                    <li>
                                        當您在網站的行為，違反服務條款或可能損害或妨礙網站與其他使用者權益或導致任何人遭受損害時，經網站管理單位研析揭露您的個人資料是為了辨識、聯絡或採取法律行動所必要者。
                                    </li>
                                    <li>
                                        有利於您的權益。
                                    </li>
                                    <li>
                                        本網站委託廠商協助蒐集、處理或利用您的個人資料時，將對委外廠商或個人善盡監督管理之責。
                                    </li>
                                </ul>
                            </p>
                        </li>
                        <br>
                        <li class="mx-16">
                            <span class="fw-bold">Cookie 之使用</span>
                            <p>為了提供您最佳的服務，本網站會在您的電腦中放置並取用我們的 Cookie，若您不願接受 Cookie 的寫入，您可在您使用的瀏覽器功能項中設定隱私權等級為高，即可拒絕 Cookie 的寫入，但可能會導致網站某些功能無法正常執行 。</p>
                        </li>
                        <br>
                        <li class="mx-16">
                            <span class="fw-bold">隱私權保護政策之修正</span>
                            <p>本網站隱私權保護政策將因應需求隨時進行修正，修正後的條款將刊登於網站上。</p>
                        </li>
                    </ol>
                    <br>
                    <ul>
                        <li>
                            <span class="fw-bold fs-7">📮 聯絡我們</span>
                            <p class="mx-24">
                                若有任何隱私權政策相關問題，請Email至
                                <a href="mailto:info@wavemocards.com" class="link-main">info@wavemocards.com</a>
                            </p>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-main c-btn py-8" data-bs-dismiss="modal">我瞭解了</button>
                </div>
            </div>
            </div>
        </div>

        <!-- 尚未勾選 同意 Modal -->
        <div class="modal fade" id="modalNeedAgree" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content rounded-4">
                    <div class="modal-body d-flex flex-column align-items-center px-48 py-36">
                        <p id="modalNeedAgreeTitle" class="fs-4 fw-bold text-pink">提醒</p>
                        <p id="modalNeedAgreeText2" class="mt-12 fs-7 text-gray-700">
                            若您欲註冊本站會員，<span class="text-pink">必須勾選「我已經詳讀並同意 隱私權保護政策」</span>。
                        </p>
                        <p id="modalNeedAgreeText3" class="mt-12 fs-7 text-gray-700">
                            勾選後，代表您已詳讀並同意本網站之隱私權保護政策。
                        </p>
                        <div style="width: 45%; height: 45%;">
                            <img class="w-100 mb-8" src="./images/addCardFail.svg" alt="img" id="modalNeedAgreeImg">
                        </div>
                        <span class="text-gray-400 fs-11">Illustration by <a class="link-gray-400" href="https://blush.design/artists/RyUTVuP8G4QeAAEEQgug/pablo-stanley">Pablo Stanley</a> from <a class="link-gray-400" href="https://blush.design/">blush design</a></span>
                    </div>
                    <div class="modal-footer d-flex justify-content-center">
                        <button type="button" id="modalNeedAgreeClose" class="btn btn-pink c-btn px-36 py-8 link-white fs-6 fw-bold" data-bs-dismiss="modal">我知道了</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 註冊成功/失敗 Modal -->
        <div class="modal fade" id="modalResult" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content rounded-4">
                    <div class="modal-body d-flex flex-column align-items-center px-48 py-36">
                        <p id="modalResultText" class="fs-4 fw-bold">註冊成功</p>
                        <p id="modalResultText2" class="d-none mt-12 fs-7 text-gray-700"></p>
                        <p id="modalResultText3" class="d-none mt-12 fs-7 text-gray-700">
                            若無法排除問題，請來信 
                            <a class="link-pink" href="mailto:info@wavemocards.com">與我們聯繫</a>。
                        </p>
                        <div style="width: 45%; height: 45%;">
                            <img class="w-100" src="./images/emoCards/5.svg" alt="興奮" id="modalResultImg">
                        </div>
                    </div>
                    <div class="modal-footer d-flex justify-content-center">
                        <a href="login.html" id="modalResultLink" class="btn btn-main c-btn px-16 py-8 link-white fs-6 fw-bold">前往登入！</a>
                        <button type="button" id="modalResultClose" class="d-none btn btn-pink c-btn px-36 py-8 link-white fs-6 fw-bold" data-bs-dismiss="modal">重新註冊</button>
                    </div>
                </div>
            </div>
        </div>

        <!--  Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
        <!-- toolTips on header -->
        <script src="./js/toolTips.js"></script>

        <!-- axios -->
        <script src="https://unpkg.com/axios@1.1.2/dist/axios.min.js"></script>
        <script type="text/javascript" src="./js/formValidation.js"></script>
        <script type="text/javascript" src="./js/beforeunload.js"></script>
        <script>
            const progressBar = document.querySelector("#progressBar");
            const progressBar_1 = document.querySelector("#progressBar_1");
            const progressBar_2 = document.querySelector("#progressBar_2");
            const progressBar_3 = document.querySelector("#progressBar_3");
            const areaEmail = document.querySelector("#areaEmail");
            const areaAccount = document.querySelector("#areaAccount");
            const areaPwd = document.querySelector("#areaPwd");
            const areaPwd2 = document.querySelector("#areaPwd2");
            const areaName = document.querySelector("#areaName");
            const areaBirthAndTitle = document.querySelector("#areaBirthAndTitle");
            const areaAgree = document.querySelector("#areaAgree");
            const btnVerify = document.querySelector('#btnVerify');
            const btnBackToFirst = document.querySelector('#btnBackToFirst');
            const btnNextToLastDisabled = document.querySelector('#btnNextToLastDisabled');
            const btnNextToPwd = document.querySelector('#btnNextToPwd');
            const btnNextToLast = document.querySelector('#btnNextToLast');
            const btnBackToPwd = document.querySelector('#btnBackToPwd');
            // const btnVerifyAccount = document.querySelector('#btnVerifyAccount');
            const email = document.querySelector('#email');
            const emailCmt = document.querySelectorAll('#emailCmt');
            const account = document.querySelector('#account');
            const accountCmt = document.querySelector('#accountCmt');
            const pwd = document.querySelector('#pwd');
            const pwd2 = document.querySelector('#pwd2');
            const pwdCmt = document.querySelector('#pwdCmt');
            const pwd2Cmt = document.querySelector('#pwd2Cmt');
            const lastName = document.querySelector('#lastName');
            const lastNameCmt = document.querySelector('#lastNameCmt');
            const firstName = document.querySelector('#firstName');
            const firstNameCmt = document.querySelector('#firstNameCmt');
            const birthday = document.querySelector('#birthday');
            const birthdayCmt = document.querySelector('#birthdayCmt');
            const title = document.querySelector('#title');
            const agree = document.querySelector('#agree');
            const agreeCmt = document.querySelector('#agreeCmt');
            const btnSubmit = document.querySelector('#btnSubmit');
            const modalResult = document.querySelector('#modalResult');
            const modalResultText = document.querySelector('#modalResultText');
            const modalResultText2 = document.querySelector('#modalResultText2');
            const modalResultText3 = document.querySelector('#modalResultText3');
            const modalResultImg = document.querySelector('#modalResultImg');
            const modalResultLink = document.querySelector('#modalResultLink');
            const modalResultClose = document.querySelector('#modalResultClose');
            areaPwd.classList.add("d-none");
            areaPwd2.classList.add("d-none");
            areaName.classList.add("d-none");
            areaBirthAndTitle.classList.add("d-none");
            areaAgree.classList.add("d-none");
            btnSubmit.classList.add("d-none");
            
            // 驗證 email 
            let emailFrontEndVerified = false;
            let emailBackEndVerified = false;
            let emailValue;
            let finalEmail;
            // 驗證 帳號名稱
            let accountFrontEndVerified = false;
            let accountBackEndVerified = false;
            let finalAccount;
            let regex = /^[a-zA-Z\d]\w{3,19}[a-zA-Z\d]$/;
            // 後端 驗證 email & account
            let emailAndAccountFrontEndVerified = false;
            email.addEventListener("keyup", function(){
                emailValue = email.value;
                if(finalEmail==undefined || finalEmail!=emailValue) {
                    let correct = IsEmail(emailValue);
                    if (correct==false) {
                        emailCmt.forEach(function(cmt, index){
                            cmt.textContent = "請輸入正確的 Email 格式";
                            cmt.classList.add("text-pink");
                            emailFrontEndVerified = false;
                        })
                    } else {
                        emailCmt.forEach(function(cmt, index){
                            cmt.textContent = "";
                            emailFrontEndVerified = true;
                        })
                    }
                }
            })
            email.addEventListener("click", function(){
                emailValue = email.value;
                emailValue = email.value;
                if(finalEmail==undefined || finalEmail!=emailValue) {
                    let correct = IsEmail(emailValue);
                    if (correct==false) {
                        emailCmt.forEach(function(cmt, index){
                            cmt.textContent = "請輸入正確的 Email 格式";
                            cmt.classList.add("text-pink");
                            emailFrontEndVerified = false;
                        })
                    } else {
                        emailCmt.forEach(function(cmt, index){
                            cmt.textContent = "";
                            emailFrontEndVerified = true;
                        })
                    }
                }
            })
            account.addEventListener("keyup", function(){
                // 5-20個字符，只能是字母、數字、底線，不能以下劃線開頭和結尾
                if (finalAccount==undefined || finalAccount!=accountValue) {
                    if(!regex.test(account.value)){
                        accountCmt.textContent = "帳號規定：5~20字，只能使用英文字母、數字、底線，且開頭不可為底線。";
                        accountCmt.style.color = "#C37979";
                        accountFrontEndVerified = false;
                    } else {
                        accountCmt.textContent = "";
                        accountFrontEndVerified = true;
                    }
                }
            })
            account.addEventListener("click", function(){
                if (finalAccount==undefined || finalAccount!=accountValue) {
                    if(!regex.test(account.value)){
                        accountCmt.textContent = "帳號規定：5~20字，只能使用英文字母、數字、底線，且開頭不可為底線。";
                        accountCmt.style.color = "#C37979";
                        accountFrontEndVerified = false;
                    } else {
                        accountCmt.textContent = "";
                        accountFrontEndVerified = true;
                    }
                }
            })
            btnVerify.addEventListener('click', function(){
                accountValue = account.value;
                emailValue = email.value;
                // post email
                if(emailFrontEndVerified==true && accountFrontEndVerified==true){
                    let postData = {
                        "email": emailValue,
                        "user_name": accountValue
                    }
                    axios.post("https://api.wavemocards.com/user/checking", postData)
                    .then(function(response){
                        if (response.data.message.email==false) {
                            emailCmt.forEach(function(cmt, index){
                                cmt.innerHTML = `<i class="me-4 bi bi-check-circle-fill"></i><span>驗證成功，您可使用此Email</span>`;
                                cmt.classList.remove("text-pink");
                                cmt.classList.add("text-main");
                            })
                            emailBackEndVerified = true;
                            finalEmail=emailValue;
                        } else {
                            emailCmt.forEach(function(cmt, index){
                                cmt.textContent = "驗證失敗，該Email已被註冊，請使用其他的Email";
                                cmt.classList.add("text-pink");
                            })
                            emailBackEndVerified = false;
                        }
                        if (response.data.message.user_name==false) {
                            // 可使用此帳號
                            accountCmt.textContent = "";
                            accountCmt.innerHTML = `<i class="me-4 bi bi-check-circle-fill"></i><span>驗證成功，您可使用此帳號</span>`;
                            accountCmt.style.color = "#3C9DAE";
                            finalAccount = accountValue;
                            accountBackEndVerified = true;
                            finalAccount=accountValue;
                        } else {
                            accountCmt.textContent = "驗證失敗，該帳號已被註冊，請使用其他的帳號";
                            accountCmt.style.color = "#C37979";
                            accountBackEndVerified = false;
                        }
                        if(emailBackEndVerified==true && accountBackEndVerified==true){
                            btnVerify.classList.add("d-none");
                            // btnNextToPwd.classList.remove("d-none");
                            areaEmail.classList.add("d-none");
                            areaAccount.classList.add("d-none");
                            areaPwd.classList.remove("d-none");
                            areaPwd2.classList.remove("d-none");
                            btnBackToFirst.classList.remove("d-none");
                            btnNextToLastDisabled.classList.remove("d-none");
                            progressBar.style.width = "50%";
                            progressBar_1.classList.remove("btn-outline-main-tint01");
                            progressBar_1.classList.add("btn-main-tint01");
                            progressBar_2.classList.remove("btn-outline-gray-450");
                            progressBar_2.classList.add("btn-outline-main-tint01");
                            progressBar_2.classList.add("border-2");
                        } else {
                            btnVerify.classList.remove("d-none");
                            btnNextToPwd.classList.add("d-none");
                        }
                    })
                }
            })
            function IsEmail(email) {
                var regex = /^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                if(!regex.test(email)) {
                    return false;
                }else{
                    return true;
                }
            }

            btnNextToPwd.addEventListener("click", function() {
                areaEmail.classList.add("d-none");
                areaAccount.classList.add("d-none");
                areaPwd.classList.remove("d-none");
                areaPwd2.classList.remove("d-none");
                btnNextToPwd.classList.add("d-none");
                btnBackToFirst.classList.remove("d-none");
                btnNextToLastDisabled.classList.remove("d-none");
                progressBar.style.width = "50%";
                progressBar_1.classList.remove("btn-outline-main-tint01");
                progressBar_1.classList.add("btn-main-tint01");
                progressBar_2.classList.remove("btn-outline-gray-450");
                progressBar_2.classList.add("btn-outline-main-tint01");
                progressBar_2.classList.add("border-2");
            })

            let pwdCorrect = false;
            // 驗證是否符合 密碼規則
            pwd.addEventListener("keyup", function(){
                let pwdRegex = /(?![0-9]+$)(?![a-zA-z]+$)[0-9A-za-z]{8,16}/;
                if(!pwdRegex.test(pwd.value)){
                    pwdCmt.textContent = "您的密碼不符合密碼規則，請重新設定密碼";
                    pwdCmt.style.color = "#C37979";
                    pwdCorrect = false;
                } else {
                    pwdCmt.innerHTML = `<i class="bi bi-check-circle-fill"></i>`;
                    pwdCmt.style.color = "#3C9DAE";
                    pwdCorrect = true;
                }
            })

            let pwd2Correct = false;
            // 監聽 pwd & pwd ，並且驗證兩者密碼是否相同
            pwd.addEventListener("keyup", pwdVerify)
            pwd2.addEventListener("keyup", pwdVerify)
            function pwdVerify(){
                if(pwd.value != "" && pwd2.value != "" && pwd.value == pwd2.value) {
                    pwd2Cmt.innerHTML = `<i class="bi bi-check-circle-fill"></i>`;
                    pwd2Cmt.style.color = "#3C9DAE";
                    pwd2Correct = true;
                } else if(pwd.value != "" && pwd2.value != "" && pwd.value != pwd2.value) {
                    pwd2Cmt.textContent = "密碼有誤，請輸入相同的密碼";
                    pwd2Cmt.style.color = "#C37979";
                    pwd2Correct = false;
                } else if (pwd.value == "") {
                    pwd2Cmt.textContent = "";
                    pwd2Correct = false;
                } 
                if(pwd2Correct==true){
                    btnNextToLastDisabled.classList.add("d-none");
                    btnNextToLast.classList.remove("d-none");
                } else {
                    btnNextToLastDisabled.classList.remove("d-none");
                    btnNextToLast.classList.add("d-none");
                }
            }

            btnBackToFirst.addEventListener("click", function(){
                areaPwd.classList.add("d-none");
                areaPwd2.classList.add("d-none");
                btnBackToFirst.classList.add("d-none");
                btnNextToLastDisabled.classList.add("d-none");
                areaEmail.classList.remove("d-none");
                areaAccount.classList.remove("d-none");
                if(emailBackEndVerified==true && accountBackEndVerified==true){
                    btnVerify.classList.add("d-none");
                    btnNextToPwd.classList.remove("d-none");
                } else {
                    btnVerify.classList.remove("d-none");
                    // btnNextToPwd.classList.add("d-none");
                }
                pwd.value = "";
                pwd2.value = "";
                pwdCmt.textContent = "";
                pwdCorrect = false;
                pwd2Cmt.textContent = "";
                pwd2Correct = false;
                progressBar.style.width = "0";
                progressBar_1.classList.add("btn-outline-main-tint01");
                progressBar_1.classList.remove("btn-main-tint01");
                progressBar_2.classList.add("btn-outline-gray-450");
                progressBar_2.classList.remove("btn-outline-main-tint01");
                progressBar_2.classList.remove("border-2");
            })

            btnNextToLast.addEventListener("click", function(){
                areaPwd.classList.add("d-none");
                areaPwd2.classList.add("d-none");
                btnBackToFirst.classList.add("d-none");
                btnNextToLast.classList.add("d-none");
                areaName.classList.remove("d-none");
                areaBirthAndTitle.classList.remove("d-none");
                areaAgree.classList.remove("d-none");
                btnSubmit.classList.remove("d-none");
                btnBackToPwd.classList.remove("d-none");
                progressBar.style.width = "100%";
                progressBar_2.classList.remove("btn-outline-main-tint01");
                progressBar_2.classList.add("btn-main-tint01");
                progressBar_3.classList.remove("btn-outline-gray-450");
                progressBar_3.classList.add("btn-outline-main-tint01");
                progressBar_3.classList.add("border-2");
            })

            btnBackToPwd.addEventListener("click", function(){
                pwd.value = "";
                pwd2.value = "";
                pwdCmt.textContent = "";
                pwdCorrect = false;
                pwd2Cmt.textContent = "";
                pwd2Correct = false;
                areaPwd.classList.remove("d-none");
                areaPwd2.classList.remove("d-none");
                btnBackToFirst.classList.remove("d-none");
                btnNextToLastDisabled.classList.remove("d-none");
                areaName.classList.add("d-none");
                areaBirthAndTitle.classList.add("d-none");
                areaAgree.classList.add("d-none");
                btnSubmit.classList.add("d-none");
                btnBackToPwd.classList.add("d-none");
                progressBar.style.width = "50%";
                progressBar_2.classList.add("btn-outline-main-tint01");
                progressBar_2.classList.remove("btn-main-tint01");
                progressBar_3.classList.add("btn-outline-gray-450");
                progressBar_3.classList.remove("btn-outline-main-tint01");
                progressBar_3.classList.remove("border-2");
            })

            // 驗證 姓、名 是否有填寫
            let lastNameCorrect = false;
            lastName.addEventListener("keyup", function(){
                if(lastName.value=="") {
                    lastNameCmt.textContent = "此欄為必填";
                    lastNameCmt.style.color = "#C37979";
                    lastNameCorrect = false;
                } else if(lastName.value.length<1) {
                    lastNameCmt.textContent = "最少填入 1 個中/英文字";
                    lastNameCmt.style.color = "#C37979";
                    lastNameCorrect = false;
                } else {
                    lastNameCmt.innerHTML = `<i class="bi bi-check-circle-fill"></i>`;
                    lastNameCmt.style.color = "#3C9DAE";
                    lastNameCorrect = true;
                }
            })
            let firstNameCorrect = false;
            firstName.addEventListener("keyup", function(){
                if(firstName.value=="") {
                    firstNameCmt.textContent = "此欄為必填";
                    firstNameCmt.style.color = "#C37979";
                    firstNameCorrect = false;
                } else if(firstName.value.length<1){
                    firstNameCmt.textContent = "最少填入 1 個中/英文字";
                    firstNameCmt.style.color = "#C37979";
                    firstNameCorrect = false;
                }else {
                    firstNameCmt.innerHTML = `<i class="bi bi-check-circle-fill"></i>`;
                    firstNameCmt.style.color = "#3C9DAE";
                    firstNameCorrect = true;
                }
            })

            // 生日 不可選填今日以後
            let date_now = new Date(); // 取得目前時間
            let year = date_now.getFullYear(); // 取得今年年份
            let month = date_now.getMonth()+1 < 10 ? "0"+(date_now.getMonth()+1) : (date_now.getMonth()+1); // 取得今月月份
            let date = date_now.getDate() < 10 ? "0"+date_now.getDate() : date_now.getDate(); // 取得今天日期
            birthday.setAttribute("max", year+"-"+month+"-"+date); // 設置生日input標籤的max值
            // 在滑鼠離開後 驗證生日是否已選填
            // birthday.addEventListener("mouseout", function(){
            //     if(birthday.value=="") {
            //         birthdayCmt.textContent = "此欄為必填";
            //         birthdayCmt.style.color = "#C37979";
            //     } else {
            //         birthdayCmt.innerHTML = `<i class="bi bi-check-circle-fill"></i>`;
            //         birthdayCmt.style.color = "#3C9DAE";
            //     }
            // })

            // 是否已勾選 我同意
            let agreeChecked = false;
            let checkedNum = 0;
            agree.addEventListener("click", function(){
                checkedNum++;
                if(checkedNum%2!=0){
                    agreeChecked = true;
                    agreeCmt.innerHTML = `<i class="bi bi-check-circle-fill"></i>`;
                    agreeCmt.style.color = "#3C9DAE";
                } else {
                    agreeChecked = false;
                    agreeCmt.textContent = "您必須勾選同意才能進行註冊";
                    agreeCmt.style.color = "#C37979";
                }
            })

            // 註冊內容驗證
            let btnSubmitClickNum = 0;
            btnSubmit.addEventListener('click', function(){
                btnSubmitClickNum++;
                if(btnSubmitClickNum%2!=0){
                    // 驗證是否已填寫所有必填內容
                    if(emailBackEndVerified==true &&  pwdCorrect==true && pwd2Correct==true && accountBackEndVerified==true && lastNameCorrect==true && firstNameCorrect==true && agreeChecked==true){
                        let postData;
                        if(birthday.value==""){
                            postData = {
                                "email": email.value,
                                "first_name": firstName.value,
                                "last_name": lastName.value,
                                "password": pwd2.value,
                                "title": title.value,
                                "user_name": account.value
                            };
                        } else {
                            postData = {
                                "day_of_birth": birthday.value,
                                "email": email.value,
                                "first_name": firstName.value,
                                "last_name": lastName.value,
                                "password": pwd2.value,
                                "title": title.value,
                                "user_name": account.value
                            };
                        }
                        // post 給後端確認
                        axios.post("https://api.wavemocards.com/user/signup", postData)
                        .then(function(response){
                            if(response.data.message == "The user was successfully registered."){
                                // 註冊成功
                                window.onbeforeunload = false;
                                modalResultText.classList.add("text-main");
                                modalResultImg.src="./images/emoCards/5.svg";
                                btnSubmit.setAttribute("data-bs-toggle", "modal");
                                btnSubmit.setAttribute("data-bs-target", "#modalResult");
                                btnSubmit.click(); // 設定該按鈕被點擊
                            } else {
                                // 註冊失敗 帳號已被使用
                                modalResultText.textContent = "註冊失敗";
                                modalResultText.classList.add("text-pink");
                                modalResultText2.classList.remove("d-none");
                                modalResultText3.classList.remove("d-none");
                                modalResultText2.innerHTML = `很抱歉，您所使用的<span class="px-2 text-pink">帳號，已經被註冊過了</span>，請使用其他帳號。`;
                                modalResultImg.src="./images/emoCards/58.svg";
                                modalResultLink.classList.add("d-none");
                                modalResultClose.classList.remove('d-none');
                                btnSubmit.setAttribute("data-bs-toggle", "modal");
                                btnSubmit.setAttribute("data-bs-target", "#modalResult");
                            }
                        })
                        .catch(function(err){
                            console.log(err);
                            modalResultText.textContent = "註冊失敗";
                            modalResultText.classList.add("text-pink");
                            modalResultText2.classList.remove("d-none");
                            modalResultText3.classList.remove("d-none");
                            modalResultText2.textContent = `很抱歉，本次註冊失敗，請嘗試重新註冊。`;
                            modalResultImg.src="./images/emoCards/58.svg";
                            modalResultLink.classList.add("d-none");
                            modalResultClose.classList.remove('d-none');
                            btnSubmit.setAttribute("data-bs-toggle", "modal");
                            btnSubmit.setAttribute("data-bs-target", "#modalResult");
                            btnSubmit.click();
                        })
                    } else {
                        if (emailBackEndVerified!=true) {
                            areaEmail.classList.remove("d-none");
                            areaAccount.classList.remove("d-none");
                            btnVerify.classList.remove("-d-none");
                            areaName.classList.add("d-none");
                            areaBirthAndTitle.classList.add("d-none");
                            areaAgree.classList.add("d-none");
                            btnBackToPwd.classList.add("d-none");
                            btnSubmit.classList.add("d-none");
                            emailCmt.forEach(function(cmt, index){
                                cmt.textContent = "請 驗證 您的email是否正確";
                                cmt.classList.add("text-pink");
                            })
                            btnVerify.classList.remove('d-none');
                        }
                        if (pwdCorrect!=true) {
                            pwd.value = "";
                            pwd2.value = "";
                            areaPwd.classList.remove("d-none");
                            areaPwd2.classList.remove("d-none");
                            btnBackToFirst.classList.remove("-d-none");
                            btnNextToLastDisabled.classList.remove("-d-none");
                            areaName.classList.add("d-none");
                            areaBirthAndTitle.classList.add("d-none");
                            areaAgree.classList.add("d-none");
                            btnBackToPwd.classList.add("d-none");
                            btnSubmit.classList.add("d-none");
                            pwdCmt.textContent = "您的密碼不符合密碼規則，請重設密碼";
                            pwdCmt.style.color = "#C37979";
                        }
                        if (pwd2Correct!=true) {
                            pwd.value = "";
                            pwd2.value = "";
                            areaPwd.classList.remove("d-none");
                            areaPwd2.classList.remove("d-none");
                            btnBackToFirst.classList.remove("-d-none");
                            btnNextToLastDisabled.classList.remove("-d-none");
                            areaName.classList.add("d-none");
                            areaBirthAndTitle.classList.add("d-none");
                            areaAgree.classList.add("d-none");
                            btnBackToPwd.classList.add("d-none");
                            btnSubmit.classList.add("d-none");
                            pwd2Cmt.textContent = "您尚未完成二次確認密碼，請再次填寫相同密碼";
                            pwd2Cmt.style.color = "#C37979";
                        }
                        if (accountBackEndVerified!=true) {
                            areaEmail.classList.remove("d-none");
                            areaAccount.classList.remove("d-none");
                            btnVerify.classList.remove("-d-none");
                            areaName.classList.add("d-none");
                            areaBirthAndTitle.classList.add("d-none");
                            areaAgree.classList.add("d-none");
                            btnBackToPwd.classList.add("d-none");
                            btnSubmit.classList.add("d-none");
                            accountCmt.textContent = "請 驗證 您的 帳戶 是否正確";
                            accountCmt.style.color = "#C37979";
                        }
                        if (lastName.value=="") {
                            lastNameCmt.textContent = "此欄為必填";
                            lastNameCmt.style.color = "#C37979";
                        } else if (lastName.length<1){
                            lastNameCmt.textContent = "最少填入 1 個中/英文字";
                            lastNameCmt.style.color = "#C37979";
                        }
                        if (firstName.value=="") {
                            firstNameCmt.textContent = "此欄為必填";
                            firstNameCmt.style.color = "#C37979";
                        } else if (firstName.length<1){
                            firstNameCmt.textContent = "最少填入 1 個中/英文字";
                            firstNameCmt.style.color = "#C37979";
                        }
                        // if (birthday.value=="") {
                        //     birthdayCmt.textContent = "此選填您的生日";
                        //     birthdayCmt.style.color = "#C37979";
                        // }
                        if (agreeChecked!=true){
                            agreeCmt.textContent = "您必須勾選同意才能進行註冊";
                            agreeCmt.style.color = "#C37979";
                        }
                        btnSubmitClickNum=0;
                    }
                }
            })
        </script>
    </body>
</html>